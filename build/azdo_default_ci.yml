# <auto-generated>
#     This code was generated.
#      To turn off auto-generation set: [AzurePipelines (AutoGenerate = false)]
#      To trigger manual generation invoke: nuke --generate-configuration AzurePipelines --host AzurePipelines
# </auto-generated>

trigger:
  - trunk

stages:
  - stage: ListifyCIBuild
    displayName: 'Listify.Me CI Build'
    dependsOn: [  ]

    pool:
      name: 'FarawayLand'  

    jobs:
      - job: Build
        displayName: 'Initialise'
        dependsOn: [  ]
        steps:
         
          - task: CmdLine@2
            displayName: 'Run: Initialise'
            inputs:
              script: '.\src\build.cmd Initialise --skip --root .\src\'              
      
          - task: CmdLine@2
            displayName: 'Run: ArrangeStep'
            inputs:
              script: '.\src\build.cmd ArrangeStep Clean MollyCheck --root .\src\'

          - task: CmdLine@2
            displayName: 'Run: ConstructStep'
            inputs:
              script: '.\src\build.cmd ConstructStep Compile --skip MollyCheck Clean ArrangeStep --root .\src\'
      
          - task: CmdLine@2
            displayName: 'Run: ExamineStep'
            inputs:
              script: '.\src\build.cmd ExamineStep UnitTest --skip MollyCheck Clean ArrangeStep ConstructStep Compile --root .\src\'
      
          - task: CmdLine@2
            displayName: 'Run: PackageStep'
            inputs:
              script: '.\src\build.cmd PackageStep --skip MollyCheck Clean ArrangeStep ConstructStep Compile --root .\src\'

          - task: CmdLine@2
            displayName: 'Run: ReleaseStep'
            inputs:
              script: '.\src\build.cmd ReleaseStep --skip MollyCheck Clean ArrangeStep ConstructStep Compile ReleaseStep --root .\src\'
